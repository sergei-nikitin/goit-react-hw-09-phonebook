(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[0],{15:function(t,e,r){t.exports={navLink:"Navigation_navLink__3NBMf",active:"Navigation_active__2h6po"}},19:function(t,e,r){"use strict";r.d(e,"i",(function(){return c})),r.d(e,"j",(function(){return a})),r.d(e,"h",(function(){return s})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return i})),r.d(e,"f",(function(){return b})),r.d(e,"g",(function(){return j})),r.d(e,"e",(function(){return l})),r.d(e,"d",(function(){return d})),r.d(e,"l",(function(){return O})),r.d(e,"m",(function(){return h})),r.d(e,"k",(function(){return f}));var n=r(2),c=Object(n.b)("contacts/fetchContactRequest"),a=Object(n.b)("contacts/fetchContactsuccess"),s=Object(n.b)("contacts/fetchContactError"),u=Object(n.b)("contacts/addContactRequest"),o=Object(n.b)("contacts/addContactsuccess"),i=Object(n.b)("contacts/addContactError"),b=Object(n.b)("contacts/deleteContactRequest"),j=Object(n.b)("contacts/deleteContactsuccess"),l=Object(n.b)("contacts/deleteContactError"),d=Object(n.b)("contact/Change_Filter"),O=Object(n.b)("contacts/patchcontactRequest"),h=Object(n.b)("contacts/patchContactSuccess"),f=Object(n.b)("contacts/patchContactError")},27:function(t,e,r){"use strict";var n=r(16),c=r.n(n),a=r(25),s=r(18),u=r.n(s),o=r(3);u.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var i=function(t){u.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){u.a.defaults.headers.common.Authorization=""},j={register:function(t){return function(){var e=Object(a.a)(c.a.mark((function e(r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(o.a.registerRequest()),e.prev=1,e.next=4,u.a.post("/users/signup",t);case 4:n=e.sent,i(n.data.token),r(o.a.registerSuccess(n.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(o.a.registerError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},login:function(t){return function(){var e=Object(a.a)(c.a.mark((function e(r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(o.a.loginRequest()),e.prev=1,e.next=4,u.a.post("/users/login",t);case 4:n=e.sent,i(n.data.token),r(o.a.loginSuccess(n.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(o.a.loginError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(o.a.logoutRequest()),t.prev=1,t.next=4,u.a.post("/users/logout");case 4:b(),e(o.a.logoutSuccess()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(o.a.logoutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(a.a)(c.a.mark((function t(e,r){var n,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r(),a=n.auth.token){t.next=3;break}return t.abrupt("return");case 3:return i(a),e(o.a.getCurrentUserRequest()),t.prev=5,t.next=8,u.a.get("/users/current");case 8:s=t.sent,e(o.a.getCurrentUserSuccess(s.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(o.a.getCurrentUserError(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,r){return t.apply(this,arguments)}}()}};e.a=j},3:function(t,e,r){"use strict";var n=r(2),c={registerRequest:Object(n.b)("auth/registerRequest"),registerSuccess:Object(n.b)("auth/registerSuccess"),registerError:Object(n.b)("auth/registerError"),loginRequest:Object(n.b)("auth/loginRequest"),loginSuccess:Object(n.b)("auth/loginSoccess"),loginError:Object(n.b)("auth/loginError"),logoutRequest:Object(n.b)("auth/logoutRequest"),logoutSuccess:Object(n.b)("auth/logoutSoccess"),logoutError:Object(n.b)("auth/logoutError"),getCurrentUserRequest:Object(n.b)("auth/getCerrentUserRequest"),getCurrentUserSuccess:Object(n.b)("auth/getCerrentUserSoccess"),getCurrentUserError:Object(n.b)("auth/getCerrentUserError")};e.a=c},30:function(t,e,r){t.exports={divUserMenu:"UserMenu_divUserMenu__1xajS",span:"UserMenu_span__4l27C",btnExit:"UserMenu_btnExit__1E9Qm"}},48:function(t,e,r){t.exports={header:"Header_header__1MOL-"}},82:function(t,e,r){},83:function(t,e,r){"use strict";r.r(e);var n=r(0),c=r.n(n),a=r(26),s=r.n(a),u=r(8),o=r(27),i=r(6),b=r(14),j={home:"/",register:"/register",login:"/login",contacts:"/contacts"},l=r(15),d=r.n(l),O={getIsAuthenticated:function(t){return t.auth.isAuthenticated},getUserName:function(t){return t.auth.user.name}},h=r(1);function f(){var t=Object(u.c)(O.getIsAuthenticated);return Object(h.jsxs)("nav",{children:[Object(h.jsx)(b.b,{className:d.a.navLink,activeClassName:d.a.active,exact:!0,to:j.home,children:"Home"}),t&&Object(h.jsx)(b.b,{className:d.a.navLink,activeClassName:d.a.active,to:j.contacts,children:"PhoneBook"})]})}var g=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(b.b,{className:d.a.navLink,activeClassName:d.a.active,to:j.login,children:"Login"}),Object(h.jsx)(b.b,{className:d.a.navLink,activeClassName:d.a.active,to:j.register,children:"Register"})]})},p=r(30),v=r.n(p);function x(){var t=Object(u.b)(),e=Object(n.useCallback)((function(){return t(o.a.logOut())}),[t]),r=Object(u.c)(O.getUserName);return Object(h.jsxs)("div",{className:v.a.divUserMenu,children:[Object(h.jsxs)("span",{className:v.a.span,children:["Welcome, ",r,"!"]}),Object(h.jsx)("button",{className:v.a.btnExit,type:"button",onClick:e,children:"Exit"})]})}var m=r(48),k=r.n(m);function C(){var t=Object(u.c)(O.getIsAuthenticated);return Object(h.jsxs)("header",{className:k.a.header,children:[Object(h.jsx)(f,{}),t?Object(h.jsx)(x,{}):Object(h.jsx)(g,{})]})}var E=r(21),S=r(29);function y(t){t.isAuthenticated;var e=t.redirectTo,r=t.children,n=Object(S.a)(t,["isAuthenticated","redirectTo","children"]),c=Object(u.c)(O.getIsAuthenticated);return Object(h.jsx)(i.b,Object(E.a)(Object(E.a)({},n),{},{children:c?r:Object(h.jsx)(i.a,{to:e})}))}function U(t){t.isAuthenticated;var e=t.redirectTo,r=t.children,n=Object(S.a)(t,["isAuthenticated","redirectTo","children"]),c=Object(u.c)(O.getIsAuthenticated);return Object(h.jsx)(i.b,Object(E.a)(Object(E.a)({},n),{},{children:c&&n.restricted?Object(h.jsx)(i.a,{to:e}):r}))}var _=Object(n.lazy)((function(){return r.e(7).then(r.bind(null,156))})),R=Object(n.lazy)((function(){return Promise.all([r.e(3),r.e(4)]).then(r.bind(null,153))})),N=Object(n.lazy)((function(){return r.e(5).then(r.bind(null,157))})),q=Object(n.lazy)((function(){return r.e(6).then(r.bind(null,158))}));function w(){var t=Object(u.b)();return Object(n.useEffect)((function(){t(o.a.getCurrentUser())}),[t]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(C,{}),Object(h.jsx)(n.Suspense,{fallback:Object(h.jsx)("h1",{children:"Loading..."}),children:Object(h.jsxs)(i.d,{children:[Object(h.jsx)(U,{exact:!0,path:j.home,children:Object(h.jsx)(_,{})}),Object(h.jsx)(y,{path:j.contacts,redirectTo:j.login,children:Object(h.jsx)(R,{})}),Object(h.jsx)(U,{path:j.login,restricted:!0,redirectTo:j.contacts,children:Object(h.jsx)(N,{})}),Object(h.jsx)(U,{path:j.register,restricted:!0,redirectTo:j.contacts,children:Object(h.jsx)(q,{})})]})})]})}var A,L,M,T,z,I,B=r(24),F=r(2),H=r(17),J=r(5),P=r(7),Q=r(19),W=Object(F.c)([],(A={},Object(J.a)(A,Q.j,(function(t,e){return e.payload})),Object(J.a)(A,Q.c,(function(t,e){var r=e.payload;return[].concat(Object(B.a)(t),[r])})),Object(J.a)(A,Q.g,(function(t,e){var r=e.payload;return t.filter((function(t){return t.id!==r}))})),Object(J.a)(A,Q.m,(function(t,e){var r=e.payload;return[].concat(Object(B.a)(t),[r])})),A)),D=Object(F.c)("",(L={},Object(J.a)(L,Q.d,(function(t,e){return e.payload})),Object(J.a)(L,Q.g,(function(t,e){return e.payload=""})),L)),G=Object(P.c)({contacts:W,filter:D}),K=r(3),V={name:null,email:null},X=Object(F.c)(V,(M={},Object(J.a)(M,K.a.registerSuccess,(function(t,e){return e.payload.user})),Object(J.a)(M,K.a.loginSuccess,(function(t,e){return e.payload.user})),Object(J.a)(M,K.a.logoutSuccess,(function(){return V})),Object(J.a)(M,K.a.getCurrentUserSuccess,(function(t,e){return e.payload})),M)),Y=Object(F.c)(null,(T={},Object(J.a)(T,K.a.registerSuccess,(function(t,e){return e.payload.token})),Object(J.a)(T,K.a.loginSuccess,(function(t,e){return e.payload.token})),Object(J.a)(T,K.a.logoutSuccess,(function(){return null})),T)),Z=Object(F.c)(null,(z={},Object(J.a)(z,K.a.registerError,(function(t,e){return e.payload})),Object(J.a)(z,K.a.loginError,(function(t,e){return e.payload})),Object(J.a)(z,K.a.logoutError,(function(t,e){return e.payload})),Object(J.a)(z,K.a.getCurrentUserError,(function(t,e){return e.payload})),z)),$=Object(F.c)(!1,(I={},Object(J.a)(I,K.a.registerSuccess,(function(){return!0})),Object(J.a)(I,K.a.loginSuccess,(function(){return!0})),Object(J.a)(I,K.a.getCurrentUserSuccess,(function(){return!0})),Object(J.a)(I,K.a.registerError,(function(){return!1})),Object(J.a)(I,K.a.loginError,(function(){return!1})),Object(J.a)(I,K.a.getCurrentUserError,(function(){return!1})),Object(J.a)(I,K.a.logoutSuccess,(function(){return!1})),I)),tt=Object(P.c)({user:X,isAuthenticated:$,token:Y,error:Z}),et=r(49),rt=r.n(et),nt=Object(B.a)(Object(F.d)({serializableCheck:{ignoredActions:[H.a,H.f,H.b,H.c,H.d,H.e]}})),ct={key:"auth",storage:rt.a,whitelist:["token"]},at=Object(F.a)({reducer:{auth:Object(H.g)(ct,tt),phoneBook:G},midleware:nt,devTools:!1}),st={store:at,persistor:Object(H.h)(at)},ut=r(50);r(82);s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(u.a,{store:st.store,children:Object(h.jsx)(ut.a,{loading:null,persistor:st.persistor,children:Object(h.jsx)(b.a,{children:Object(h.jsx)(w,{})})})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.f529266e.chunk.js.map