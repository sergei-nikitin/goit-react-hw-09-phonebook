(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[4],{114:function(e,t,n){e.exports={mainDiv:"Contacts_mainDiv__BUn_y"}},115:function(e,t,n){e.exports={divContactList:"ContactList_divContactList__3_FwC",title:"ContactList_title__2rE88",item:"ContactList_item__25ZHG"}},116:function(e,t,n){e.exports={IconButton:"IconButton_IconButton__3AV4S"}},117:function(e,t,n){e.exports={backdrop:"Modal_backdrop__1q71O",content:"Modal_content__krApq"}},132:function(e,t,n){e.exports={input:"Filter_input__3K0YO"}},133:function(e,t,n){e.exports={title:"Title_title__3qxXi",appear:"Title_appear__1of2s",appearActive:"Title_appearActive__9z7qP"}},153:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Q}));var c=n(0),a=n(8),r=n(18),i=n.n(r),o=n(19),u=n(114),s=n.n(u),l=n(88),b=n(155),j=n(159),m=n(115),d=n.n(m),O=n(98),f=n.n(O),h=function(e){return e.phoneBook.contacts},p=function(e){return e.phoneBook.filter},x=n(21),_=n(29),v=n(116),N=n.n(v),C=n(1),g=function(e){var t=e.children,n=e.onClick,c=Object(_.a)(e,["children","onClick"]);return Object(C.jsx)("button",Object(x.a)(Object(x.a)({type:"button",className:N.a.IconButton,onClick:n},c),{},{children:t}))};g.defaultProps={onClick:function(){return null},children:null};var k=g,y=n(131),A=n.n(y),E=n(126),F=n.n(E),w=n(26),S=n(117),B=n.n(S),L=document.querySelector("#modal-root");function T(e){var t=e.onClose,n=e.children;Object(c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(w.createPortal)(Object(C.jsx)("div",{className:B.a.backdrop,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(C.jsx)("div",{className:B.a.content,children:n})}),L)}var I=n(99),q=n.n(I),D=n(100),M=n.n(D);function P(e){var t=Object(a.b)(),n=Object(c.useState)(""),r=Object(l.a)(n,2),u=r[0],s=r[1],b=Object(c.useState)(""),j=Object(l.a)(b,2),m=j[0],d=j[1],O=Object(c.useState)(Object(x.a)({},e.id)),f=Object(l.a)(O,2),h=f[0],p=f[1];Object(c.useEffect)((function(){p(e.id)}),[e.id]);var _=M.a.generate(),v=M.a.generate();return Object(C.jsx)("div",{children:Object(C.jsxs)("form",{className:q.a.form,onSubmit:function(n){n.preventDefault(),t(function(e,t,n){return function(c){var a={name:t,number:Number(n)};c(Object(o.l)()),i.a.patch("/contacts/".concat(e),a).then((function(e){var t=e.data;return c(Object(o.m)(t))})).catch((function(e){return c(Object(o.k)(e.message))}))}}(h,u,m)),s(""),d(""),p(""),e.toogleModal()},children:[Object(C.jsx)("label",{className:q.a.label,htmlFor:_,name:"name",children:"Name"}),Object(C.jsx)("input",{className:q.a.input,id:_,type:"text",value:u,name:"name",placeholder:"Enter Name",onChange:function(e){s(e.target.value)}}),Object(C.jsx)("label",{className:q.a.label,htmlFor:v,name:"number",children:"Number"}),Object(C.jsx)("input",{className:q.a.input,id:v,type:"phone",value:m,name:"number",placeholder:"Enter Number",onChange:function(e){d(e.target.value)}}),Object(C.jsx)("button",{className:q.a.addBtn,type:"submit",children:"Patch"})]})})}function U(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],u=Object(c.useState)(""),s=Object(l.a)(u,2),m=s[0],O=s[1],x=Object(a.b)(),_=Object(a.c)(h),v=Object(a.c)(p),N=Object(c.useCallback)((function(e){O(e),r((function(e){return!e}))}),[]),g=function(e,t){var n=e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return n.length||(n=e,t=""),n}(_,v);return Object(C.jsx)(b.a,{in:!0,timeout:250,unmountOnExit:!0,classNames:f.a,children:Object(C.jsxs)("div",{className:d.a.divContactList,children:[Object(C.jsx)("h2",{className:d.a.title,children:"Contact list"}),Object(C.jsx)(j.a,{component:"ul",className:d.a,children:g.map((function(e){return Object(C.jsx)(b.a,{timeout:250,classNames:f.a,children:Object(C.jsxs)("li",{className:d.a.item,children:[e.name,": ",e.number,Object(C.jsx)(k,{"aria-label":"openModal",onClick:function(){return N(e.id)},children:Object(C.jsx)(F.a,{})}),Object(C.jsx)(k,{"aria-label":"deleteContact",onClick:function(){return x(function(e){return function(t){t(Object(o.f)()),i.a.delete("/contacts/".concat(e)).then((function(){return t(Object(o.g)(e))})).catch((function(e){return t(Object(o.e)(e.message))}))}}(e.id))},children:Object(C.jsx)(A.a,{})})]})},e.id)}))}),n&&Object(C.jsx)(T,{onClose:N,children:Object(C.jsx)(P,{toogleModal:N,id:m})})]})})}var J=n(154),V=n(160);function z(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],u=Object(c.useState)(""),s=Object(l.a)(u,2),j=s[0],m=s[1],d=Object(c.useState)(!1),O=Object(l.a)(d,2),p=O[0],x=O[1],_=Object(a.c)(h),v=Object(a.b)(),N=M.a.generate(),g=M.a.generate(),k=function(e,t){if(_.some((function(t){return t.name===e})))return setTimeout((function(){return x(!1)}),2e3),x(!0);v(function(e,t){return function(n){var c={name:e,number:Number(t)};n(Object(o.b)()),i.a.post("/contacts",c).then((function(e){var t=e.data;return n(Object(o.c)(t))})).catch((function(e){return n(Object(o.a)(e.message))}))}}(e,t))};return Object(C.jsxs)("div",{children:[Object(C.jsx)(b.a,{in:p,timeout:250,unmountOnExit:!0,classNames:f.a,children:Object(C.jsxs)(J.a,{severity:"error",children:[Object(C.jsx)(V.a,{children:"Error"}),Object(C.jsx)("strong",{children:"Try once more"})]})}),Object(C.jsxs)("form",{className:q.a.form,onSubmit:function(e){e.preventDefault(),k(n,j),r(""),m("")},children:[Object(C.jsx)("label",{className:q.a.label,htmlFor:N,name:"name",children:"Name"}),Object(C.jsx)("input",{className:q.a.input,id:N,type:"text",value:n,name:"name",placeholder:"Enter Name",onChange:function(e){r(e.target.value)}}),Object(C.jsx)("label",{className:q.a.label,htmlFor:g,name:"number",children:"Number"}),Object(C.jsx)("input",{className:q.a.input,id:g,type:"phone",value:j,name:"number",placeholder:"Enter Number",onChange:function(e){m(e.target.value)}}),Object(C.jsx)("button",{className:q.a.addBtn,type:"submit",children:"Add contact"})]})]})}var G=n(132),H=n.n(G);function K(){var e=Object(a.b)(),t=Object(a.c)(p);return Object(C.jsx)("div",{children:Object(C.jsx)("input",{className:H.a.input,placeholder:"Filter",name:"filter",type:"text",value:t,onChange:function(t){return e(Object(o.d)(t.target.value))}})})}var X=n(133),Y=n.n(X),Z=function(){return Object(C.jsx)(b.a,{appear:!0,in:!0,classNames:Y.a,timeout:500,unmountOnExit:!0,children:Object(C.jsx)("h2",{className:Y.a.title,children:"Phonebook"})})};function Q(){var e=Object(a.b)();return Object(c.useEffect)((function(){e((function(e){e(Object(o.i)()),i.a.get("/contacts").then((function(t){var n=t.data;return e(Object(o.j)(n))})).catch((function(t){return e(Object(o.h)(t.message))}))}))}),[e]),Object(C.jsxs)("div",{className:s.a.mainDiv,children:[Object(C.jsx)(Z,{}),Object(C.jsx)(z,{}),Object(C.jsx)(K,{}),Object(C.jsx)(U,{})]})}},98:function(e,t,n){e.exports={enter:"AnimationContacts_enter__2OATc",enterActive:"AnimationContacts_enterActive__O-jOl",exit:"AnimationContacts_exit__1UF7V",exitActive:"AnimationContacts_exitActive__18U3e"}},99:function(e,t,n){e.exports={title:"Form_title__IsA3I",form:"Form_form__cvyS-",label:"Form_label__1eFym",input:"Form_input__28m9x",addBtn:"Form_addBtn__2C0ox"}}}]);
//# sourceMappingURL=4.060b085e.chunk.js.map